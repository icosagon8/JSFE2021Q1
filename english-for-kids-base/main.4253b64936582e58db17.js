(()=>{"use strict";var e={732:(e,t,i)=>{i.r(t)},715:(e,t,i)=>{i.r(t)},493:(e,t,i)=>{i.r(t)},80:(e,t,i)=>{i.r(t)},850:(e,t,i)=>{i.r(t)},528:(e,t,i)=>{i.r(t)},406:(e,t,i)=>{i.r(t)},215:(e,t,i)=>{i.r(t)},681:(e,t,i)=>{i.r(t)},348:(e,t,i)=>{i.r(t)},676:(e,t,i)=>{function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){a(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function n(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}i.r(t),i.d(t,{__DO_NOT_USE__ActionTypes:()=>c,applyMiddleware:()=>f,bindActionCreators:()=>g,combineReducers:()=>u,compose:()=>p,createStore:()=>m});var s="function"==typeof Symbol&&Symbol.observable||"@@observable",d=function(){return Math.random().toString(36).substring(7).split("").join(".")},c={INIT:"@@redux/INIT"+d(),REPLACE:"@@redux/REPLACE"+d(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+d()}};function l(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function m(e,t,i){var a;if("function"==typeof t&&"function"==typeof i||"function"==typeof i&&"function"==typeof arguments[3])throw new Error(n(0));if("function"==typeof t&&void 0===i&&(i=t,t=void 0),void 0!==i){if("function"!=typeof i)throw new Error(n(1));return i(m)(e,t)}if("function"!=typeof e)throw new Error(n(2));var r=e,o=t,d=[],u=d,h=!1;function g(){u===d&&(u=d.slice())}function p(){if(h)throw new Error(n(3));return o}function f(e){if("function"!=typeof e)throw new Error(n(4));if(h)throw new Error(n(5));var t=!0;return g(),u.push(e),function(){if(t){if(h)throw new Error(n(6));t=!1,g();var i=u.indexOf(e);u.splice(i,1),d=null}}}function w(e){if(!l(e))throw new Error(n(7));if(void 0===e.type)throw new Error(n(8));if(h)throw new Error(n(9));try{h=!0,o=r(o,e)}finally{h=!1}for(var t=d=u,i=0;i<t.length;i++)(0,t[i])();return e}function v(e){if("function"!=typeof e)throw new Error(n(10));r=e,w({type:c.REPLACE})}function y(){var e,t=f;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(n(11));function i(){e.next&&e.next(p())}return i(),{unsubscribe:t(i)}}})[s]=function(){return this},e}return w({type:c.INIT}),(a={dispatch:w,subscribe:f,getState:p,replaceReducer:v})[s]=y,a}function u(e){for(var t=Object.keys(e),i={},a=0;a<t.length;a++){var r=t[a];"function"==typeof e[r]&&(i[r]=e[r])}var o,s=Object.keys(i);try{!function(e){Object.keys(e).forEach((function(t){var i=e[t];if(void 0===i(void 0,{type:c.INIT}))throw new Error(n(12));if(void 0===i(void 0,{type:c.PROBE_UNKNOWN_ACTION()}))throw new Error(n(13))}))}(i)}catch(e){o=e}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var a=!1,r={},d=0;d<s.length;d++){var c=s[d],l=i[c],m=e[c],u=l(m,t);if(void 0===u)throw t&&t.type,new Error(n(14));r[c]=u,a=a||u!==m}return(a=a||s.length!==Object.keys(e).length)?r:e}}function h(e,t){return function(){return t(e.apply(this,arguments))}}function g(e,t){if("function"==typeof e)return h(e,t);if("object"!=typeof e||null===e)throw new Error(n(16));var i={};for(var a in e){var r=e[a];"function"==typeof r&&(i[a]=h(r,t))}return i}function p(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function f(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(e){return function(){var i=e.apply(void 0,arguments),a=function(){throw new Error(n(15))},r={getState:i.getState,dispatch:function(){return a.apply(void 0,arguments)}},s=t.map((function(e){return e(r)}));return a=p.apply(void 0,s)(i.dispatch),o(o({},i),{},{dispatch:a})}}}},752:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;const a=i(977),r=i(0),o=i(458),n=i(374),s=i(334),d=i(54),c=i(863);t.App=class{constructor(e){this.rootElement=e,this.header=new a.Header(this.rootElement),this.main=new s.Component(this.rootElement,"main"),this.page=new o.Router(this.main.element,n.routes,this.header.nav.highlightActiveMenuItem),this.footer=new r.Footer(this.rootElement),d.store.subscribe((()=>{const{isPlayMode:e}=d.store.getState().mode;this.rootElement.dataset.mode=e?"play":"train"})),c.initLocalStorage()}}},491:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CardCategory=void 0,i(715);const a=i(334),r=i(789),o=i(54),n=i(745);class s extends a.Component{constructor(e,t,i){super(e,"a",["category-card"],"",[["href",`#/${r.getKebabCaseString(t.category)}`]]),this.categoryData=t,this.headerNavCallback=i,this.cardClickHandler=()=>{this.headerNavCallback(this.categoryData.category),o.store.dispatch(n.updateCategory(this.categoryData.category))},this.image=new a.Component(this.element,"img",["category-card__img"],"",[["src",`./${t.image}`],["alt",t.category]]),this.title=new a.Component(this.element,"h3",["category-card__title"],t.category),this.setEventHandlers()}setEventHandlers(){this.element.addEventListener("click",this.cardClickHandler)}}t.CardCategory=s},490:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CardWord=void 0,i(493);const a=i(334),r=i(54);class o extends a.Component{constructor(e,t,i){super(e,"div",["card-container"]),this.toggleCardMode=()=>{const{isPlayMode:e}=r.store.getState().mode;e?this.cardFront.element.removeEventListener("click",this.cardClickHandler):this.cardFront.element.addEventListener("click",this.cardClickHandler)},this.flipperClickHandler=e=>{e.stopPropagation(),this.flipToFront()},this.cardClickHandler=()=>{this.playAudio();const e=localStorage.getItem("statistics"),t=JSON.parse(e);t.find((e=>e.category===this.category&&e.word===this.word)).click++,localStorage.setItem("statistics",JSON.stringify(t))},this.flipToFront=()=>{this.flip(),this.card.element.addEventListener("mouseleave",this.flipToBack,{once:!0})},this.flipToBack=()=>{this.flip()},this.playAudio=()=>{this.audio.play()},this.card=new a.Component(this.element,"div",["card"]),this.word=t.word,this.category=i,this.cardFront=new a.Component(this.card.element,"div",["card__front"]),this.cardFrontHeader=new a.Component(this.cardFront.element,"div",["card__header"],"",[["style",`background-image: url(./${t.image})`]]),this.cardFrontFooter=new a.Component(this.cardFront.element,"p",["card__footer","card__footer--front"],t.word),this.flipper=new a.Component(this.cardFrontFooter.element,"div",["card__flipper"]),this.cardBack=new a.Component(this.card.element,"div",["card__back"]),this.cardBackHeader=new a.Component(this.cardBack.element,"div",["card__header"],"",[["style",`background-image: url(./${t.image})`]]),this.cardBackFooter=new a.Component(this.cardBack.element,"p",["card__footer"],t.translation),this.audio=new Audio(`./${t.audioSrc}`),this.toggleCardMode(),this.unsubscribe=r.store.subscribe(this.toggleCardMode),this.setEventHandlers()}setEventHandlers(){this.flipper.element.addEventListener("click",this.flipperClickHandler),window.addEventListener("hashchange",(()=>this.unsubscribe()),{once:!0})}flip(){this.card.element.classList.toggle("card--flipped")}}t.CardWord=o},610:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CardsField=void 0,i(80);const a=i(334);class r extends a.Component{constructor(e,t){super(e,"section",[`${t}`,"cards"]),this.container=new a.Component(this.element,"div",["cards__field"])}}t.CardsField=r},334:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0,t.Component=class{constructor(e=null,t="div",i=[],a="",r=[]){this.element=document.createElement(t),i.length&&this.element.classList.add(...i),e&&e.append(this.element),this.element.textContent=a,r.length&&this.setAttributes(r)}setAttributes(e){e.forEach((e=>{const[t,i]=e;this.element.setAttribute(t,i)}))}}},0:function(e,t,i){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Footer=void 0,i(850);const r=i(334),o=a(i(353)),n=a(i(790));class s extends r.Component{constructor(e){super(e,"footer",["container","footer"]),this.wrapper=new r.Component(this.element,"div",["footer__wrapper"]),this.githubLink=new r.Component(this.wrapper.element,"a",["footer__github-link"],"",[["href","https://github.com/icosagon8/"],["target","blank"]]),this.githubLogo=new r.Component(this.githubLink.element,"img",["footer__github-logo"],"",[["src",`${o.default}`],["width","32"],["height","32"],["alt","Github - icosagon8"]]),this.year=new r.Component(this.wrapper.element,"time",["footer__year"],"2021",[["datetime","2021"]]),this.courseLink=new r.Component(this.wrapper.element,"a",["footer__course-link"],"",[["href","https://rs.school/js/"],["target","blank"]]),this.courseLogo=new r.Component(this.courseLink.element,"img",["footer__course-logo"],"",[["src",`${n.default}`],["width","100"],["height","37"],["alt","RS School"]])}}t.Footer=s},977:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0,i(528);const a=i(334),r=i(747),o=i(973);class n extends a.Component{constructor(e){super(e,"header",["container","header"]),this.wrapper=new a.Component(this.element,"div",["header__wrapper"]),this.nav=new r.MainNav(this.wrapper.element),this.switch=new o.Switch(this.wrapper.element)}}t.Header=n},747:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MainNav=void 0,i(406);const a=i(334),r=i(374),o=i(54);class n extends a.Component{constructor(e){super(e,"nav",["main-nav"]),this.toggleClickHandler=e=>{e.stopPropagation(),this.transformLines(),this.toggleMenu()},this.menuOutsideClickHandler=e=>{e.target.closest(".main-nav__list")||(this.transformLines(),this.toggleMenu())},this.menuItemClickHandler=e=>{this.highlightActiveMenuItem(e.target),this.transformLines(),this.toggleMenu(),o.store.dispatch({type:"UPDATE_PAGE",text:e.target.textContent})},this.highlightActiveMenuItem=e=>{var t;null===(t=this.activeMenuItem)||void 0===t||t.classList.remove("main-nav__item--active"),this.activeMenuItem="string"==typeof e?this.menuItems.find((t=>t.textContent===e)):e.closest(".main-nav__item"),this.activeMenuItem.classList.add("main-nav__item--active")},this.toggle=new a.Component(this.element,"button",["main-nav__toggle"],"",[["type","button"]]),this.lines=new a.Component(this.toggle.element,"span",["main-nav__lines"]),this.menu=new a.Component(this.element,"ul",["main-nav__list"]),this.menuItems=[],this.addMenuItems(),this.setEventHandlers()}setEventHandlers(){this.toggle.element.addEventListener("click",this.toggleClickHandler)}transformLines(){this.toggle.element.classList.toggle("main-nav__toggle--open")}toggleMenu(){this.menu.element.classList.toggle("main-nav__list--open"),this.menu.element.classList.contains("main-nav__list--open")?document.addEventListener("click",this.menuOutsideClickHandler):document.removeEventListener("click",this.menuOutsideClickHandler)}createMenuItem(e,t){const i=new a.Component(this.menu.element,"li",["main-nav__item"]),r=new a.Component(i.element,"a",["main-nav__link"],`${e}`,[["href",`#/${t}`]]);return this.menuItems.push(i.element),r.element.addEventListener("click",this.menuItemClickHandler),this.highlightInitMenuItem(i.element,t),r}highlightInitMenuItem(e,t){""===t&&(e.classList.add("main-nav__item--active"),this.activeMenuItem=e)}addMenuItems(){r.routes.forEach((e=>{e.menu&&this.createMenuItem(e.name,e.path)}))}}t.MainNav=n},973:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Switch=void 0,i(215);const a=i(334),r=i(54),o=i(218);class n extends a.Component{constructor(e){super(e,"div",["switch"]),this.changePlayMode=()=>{r.store.dispatch(o.setPlayMode())},this.field=new a.Component(this.element,"input",["switch__field"],"",[["id","switch-label"],["type","checkbox"]]),this.label=new a.Component(this.element,"label",["switch__label"],"",[["for","switch-label"]]),this.text=new a.Component(this.label.element,"span",["switch__text"]),this.slider=new a.Component(this.label.element,"span",["switch__slider"]),this.field.element.addEventListener("change",this.changePlayMode)}}t.Switch=n},583:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.cards=void 0,t.cards=[{category:"Action (set A)",image:"images/dance.jpg",words:[{word:"cry",translation:"плакать",image:"images/cry.jpg",audioSrc:"audio/cry.mp3"},{word:"dance",translation:"танцевать",image:"images/dance.jpg",audioSrc:"audio/dance.mp3"},{word:"dive",translation:"нырять",image:"images/dive.jpg",audioSrc:"audio/dive.mp3"},{word:"draw",translation:"рисовать",image:"images/draw.jpg",audioSrc:"audio/draw.mp3"},{word:"fish",translation:"ловить рыбу",image:"images/fish.jpg",audioSrc:"audio/fish.mp3"},{word:"fly",translation:"летать",image:"images/fly.jpg",audioSrc:"audio/fly.mp3"},{word:"hug",translation:"обнимать",image:"images/hug.jpg",audioSrc:"audio/hug.mp3"},{word:"jump",translation:"прыгать",image:"images/jump.jpg",audioSrc:"audio/jump.mp3"}]},{category:"Action (set B)",image:"images/swim.jpg",words:[{word:"open",translation:"открывать",image:"images/open.jpg",audioSrc:"audio/open.mp3"},{word:"play",translation:"играть",image:"images/play.jpg",audioSrc:"audio/play.mp3"},{word:"point",translation:"указывать",image:"images/point.jpg",audioSrc:"audio/point.mp3"},{word:"ride",translation:"ездить",image:"images/ride.jpg",audioSrc:"audio/ride.mp3"},{word:"run",translation:"бегать",image:"images/run.jpg",audioSrc:"audio/run.mp3"},{word:"sing",translation:"петь",image:"images/sing.jpg",audioSrc:"audio/sing.mp3"},{word:"skip",translation:"пропускать, прыгать",image:"images/skip.jpg",audioSrc:"audio/skip.mp3"},{word:"swim",translation:"плавать",image:"images/swim.jpg",audioSrc:"audio/swim.mp3"}]},{category:"Animal (set A)",image:"images/cat.jpg",words:[{word:"cat",translation:"кот",image:"images/cat.jpg",audioSrc:"audio/cat.mp3"},{word:"chick",translation:"цыплёнок",image:"images/chick.jpg",audioSrc:"audio/chick.mp3"},{word:"chicken",translation:"курица",image:"images/chicken.jpg",audioSrc:"audio/chicken.mp3"},{word:"dog",translation:"собака",image:"images/dog.jpg",audioSrc:"audio/dog.mp3"},{word:"horse",translation:"лошадь",image:"images/horse.jpg",audioSrc:"audio/horse.mp3"},{word:"pig",translation:"свинья",image:"images/pig.jpg",audioSrc:"audio/pig.mp3"},{word:"rabbit",translation:"кролик",image:"images/rabbit.jpg",audioSrc:"audio/rabbit.mp3"},{word:"sheep",translation:"овца",image:"images/sheep.jpg",audioSrc:"audio/sheep.mp3"}]},{category:"Animal (set B)",image:"images/bird.jpg",words:[{word:"bird",translation:"птица",image:"images/bird.jpg",audioSrc:"audio/bird.mp3"},{word:"fish",translation:"рыба",image:"images/fish1.jpg",audioSrc:"audio/fish.mp3"},{word:"frog",translation:"жаба",image:"images/frog.jpg",audioSrc:"audio/frog.mp3"},{word:"giraffe",translation:"жираф",image:"images/giraffe.jpg",audioSrc:"audio/giraffe.mp3"},{word:"lion",translation:"лев",image:"images/lion.jpg",audioSrc:"audio/lion.mp3"},{word:"mouse",translation:"мышь",image:"images/mouse.jpg",audioSrc:"audio/mouse.mp3"},{word:"turtle",translation:"черепаха",image:"images/turtle.jpg",audioSrc:"audio/turtle.mp3"},{word:"dolphin",translation:"дельфин",image:"images/dolphin.jpg",audioSrc:"audio/dolphin.mp3"}]},{category:"Clothes",image:"images/blouse.jpg",words:[{word:"skirt",translation:"юбка",image:"images/skirt.jpg",audioSrc:"audio/skirt.mp3"},{word:"pants",translation:"брюки",image:"images/pants.jpg",audioSrc:"audio/pants.mp3"},{word:"blouse",translation:"блузка",image:"images/blouse.jpg",audioSrc:"audio/blouse.mp3"},{word:"dress",translation:"платье",image:"images/dress.jpg",audioSrc:"audio/dress.mp3"},{word:"boot",translation:"ботинок",image:"images/boot.jpg",audioSrc:"audio/boot.mp3"},{word:"shirt",translation:"рубашка",image:"images/shirt.jpg",audioSrc:"audio/shirt.mp3"},{word:"coat",translation:"пальто",image:"images/coat.jpg",audioSrc:"audio/coat.mp3"},{word:"shoe",translation:"туфли",image:"images/shoe.jpg",audioSrc:"audio/shoe.mp3"}]},{category:"Emotions",image:"images/smile.jpg",words:[{word:"sad",translation:"грустный",image:"images/sad.jpg",audioSrc:"audio/sad.mp3"},{word:"angry",translation:"сердитый",image:"images/angry.jpg",audioSrc:"audio/angry.mp3"},{word:"happy",translation:"счастливый",image:"images/happy.jpg",audioSrc:"audio/happy.mp3"},{word:"tired",translation:"уставший",image:"images/tired.jpg",audioSrc:"audio/tired.mp3"},{word:"surprised",translation:"удивлённый",image:"images/surprised.jpg",audioSrc:"audio/surprised.mp3"},{word:"scared",translation:"испуганный",image:"images/scared.jpg",audioSrc:"audio/scared.mp3"},{word:"smile",translation:"улыбка",image:"images/smile.jpg",audioSrc:"audio/smile.mp3"},{word:"laugh",translation:"смех",image:"images/laugh.jpg",audioSrc:"audio/laugh.mp3"}]},{category:"Fruits",image:"images/apricot.jpg",words:[{word:"apple",translation:"яблоко",image:"images/apple.jpg",audioSrc:"audio/apple.mp3"},{word:"apricot",translation:"абрикос",image:"images/apricot.jpg",audioSrc:"audio/apricot.mp3"},{word:"banana",translation:"банан",image:"images/banana.jpg",audioSrc:"audio/banana.mp3"},{word:"grape",translation:"виноград",image:"images/grape.jpg",audioSrc:"audio/grape.mp3"},{word:"orange",translation:"апельсин",image:"images/orange.jpg",audioSrc:"audio/orange.mp3"},{word:"pear",translation:"груша",image:"images/pear.jpg",audioSrc:"audio/pear.mp3"},{word:"pineapple",translation:"ананас",image:"images/pineapple.jpg",audioSrc:"audio/pineapple.mp3"},{word:"watermelon",translation:"арбуз",image:"images/watermelon.jpg",audioSrc:"audio/watermelon.mp3"}]},{category:"Sports",image:"images/soccer.jpg",words:[{word:"cycling",translation:"велоспорт",image:"images/cycling.jpg",audioSrc:"audio/cycling.mp3"},{word:"golf",translation:"гольф",image:"images/golf.jpg",audioSrc:"audio/golf.mp3"},{word:"hockey",translation:"хоккей",image:"images/hockey.jpg",audioSrc:"audio/hockey.mp3"},{word:"karate",translation:"карате",image:"images/karate.jpg",audioSrc:"audio/karate.mp3"},{word:"skiing",translation:"катание на лыжах",image:"images/skiing.jpg",audioSrc:"audio/skiing.mp3"},{word:"soccer",translation:"футбол",image:"images/soccer.jpg",audioSrc:"audio/soccer.mp3"},{word:"swimming",translation:"плавание",image:"images/swimming.jpg",audioSrc:"audio/swimming.mp3"},{word:"tennis",translation:"теннис",image:"images/tennis.jpg",audioSrc:"audio/tennis.mp3"}]}]},297:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_CARD_REPEAT=t.REDIRECT_DELAY=t.PLAY_AUDIO_DELAY=void 0,t.PLAY_AUDIO_DELAY=1e3,t.REDIRECT_DELAY=3e3,t.MAX_CARD_REPEAT=8},789:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.shuffleArray=t.getKebabCaseString=void 0,t.getKebabCaseString=e=>e.replace(/\s/g,"-").toLocaleLowerCase(),t.shuffleArray=e=>{let t,i;const a=[...e];for(let r=e.length-1;r>0;r--)t=Math.floor(Math.random()*(r+1)),i=a[t],a[t]=a[r],a[r]=i;return a}},863:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.initLocalStorage=void 0;const a=i(583);t.initLocalStorage=()=>{if(!localStorage.getItem("statistics")){const e=[];a.cards.forEach((t=>t.words.forEach((i=>{e.push({category:t.category,word:i.word,translation:i.translation,click:0,hit:0,miss:0,percent:0})})))),localStorage.setItem("statistics",JSON.stringify(e))}}},17:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Category=void 0,i(681);const a=i(490),r=i(610),o=i(334),n=i(412),s=i(54),d=i(789),c=i(297);class l extends o.Component{constructor(e,t){super(e,"main",["container","main","main--category"]),this.headerNavCallback=t,this.repeatAudio=()=>{var e;null===(e=this.currentCard)||void 0===e||e.playAudio()},this.startGame=()=>{var e,t;this.shuffleCards=d.shuffleArray(this.cards),this.currentCard=this.shuffleCards.pop(),this.category=null===(e=this.currentCard)||void 0===e?void 0:e.category,null===(t=this.currentCard)||void 0===t||t.playAudio(),this.button.element.classList.add("category__btn--repeat"),this.button.element.addEventListener("click",this.repeatAudio),this.cardsField.container.element.addEventListener("click",this.cardFieldClickHandler)},this.finishGame=()=>{this.cardsField.element.remove(),this.errors?(this.result=new o.Component(this.element,"div",["category__result","category__result--failure"]),this.loseAudio.play()):(this.result=new o.Component(this.element,"div",["category__result"]),this.winAudio.play()),setTimeout((()=>{window.location.hash="#/",this.headerNavCallback("Main Page")}),c.REDIRECT_DELAY)},this.cardFieldClickHandler=e=>{var t,i,a,r;const n=e.target.closest(".card");if(!n)return;(null===(t=this.shuffleCards)||void 0===t?void 0:t.length)||this.finishGame();const s=localStorage.getItem("statistics"),d=JSON.parse(s),l=d.find((e=>{var t;return e.category===this.category&&e.word===(null===(t=this.currentCard)||void 0===t?void 0:t.word)}));n===(null===(i=this.currentCard)||void 0===i?void 0:i.card.element)?(this.correctAudio.play(),n.classList.add("card--inactive"),(()=>{new o.Component(this.stars.element,"div",["category__star"])})(),l.hit++,this.currentCard=null===(a=this.shuffleCards)||void 0===a?void 0:a.pop(),this.category=null===(r=this.currentCard)||void 0===r?void 0:r.category,setTimeout((()=>{var e;return null===(e=this.currentCard)||void 0===e?void 0:e.playAudio()}),c.PLAY_AUDIO_DELAY)):((()=>{new o.Component(this.stars.element,"div",["category__star","category__star--error"])})(),this.errorAudio.play(),this.errors++,l.miss++),l.percent=this.getHitsPercent(l),localStorage.setItem("statistics",JSON.stringify(d))},this.controlButtonState=()=>{const{isPlayMode:e}=s.store.getState().mode;this.button.element.removeEventListener("click",this.repeatAudio),this.cardsField.container.element.removeEventListener("click",this.cardFieldClickHandler),this.stars.element.innerHTML="",this.errors=0,this.cards.forEach((e=>{e.card.element.classList.remove("card--inactive")})),e&&(this.button.element.classList.remove("category__btn--repeat"),this.button.element.addEventListener("click",this.startGame,{once:!0}))},this.getHitsPercent=e=>e.hit/(e.hit+e.miss)?Math.round(e.hit/(e.hit+e.miss)*100):e.percent,this.cardsField=new r.CardsField(this.element,"category"),this.stars=new o.Component(null,"div",["category__stars"]),this.cardsField.element.prepend(this.stars.element),this.button=new o.Component(this.cardsField.element,"button",["category__btn--start"],"Start"),this.category=s.store.getState().page.category,this.cards=[],this.errors=0,this.errorAudio=new Audio("./audio/error.mp3"),this.correctAudio=new Audio("./audio/correct.mp3"),this.winAudio=new Audio("./audio/success.mp3"),this.loseAudio=new Audio("./audio/failure.mp3"),this.addCategoryCards(),this.unsubscribe=s.store.subscribe(this.controlButtonState),this.setEventHandlers()}setEventHandlers(){this.button.element.addEventListener("click",this.startGame,{once:!0}),window.addEventListener("hashchange",(()=>this.unsubscribe()),{once:!0})}addCategoryCards(){n.getWordsData(this.category).forEach((e=>{const t=new a.CardWord(this.cardsField.container.element,e,this.category);this.cards.push(t)}))}}t.Category=l},253:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MainPage=void 0;const a=i(334),r=i(491),o=i(583);class n extends a.Component{constructor(e,t){super(e,"main",["container","main"]),this.headerNavCallback=t,this.cardsField=new a.Component(e,"section",["categories","cards"]),this.container=new a.Component(this.element,"div",["cards__field"]),this.addCategoryCards()}addCategoryCards(){o.cards.forEach((e=>new r.CardCategory(this.container.element,e,this.headerNavCallback)))}}t.MainPage=n},409:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DifficultWords=void 0;const a=i(490),r=i(297),o=i(412),n=i(17);class s extends n.Category{addCategoryCards(){const e=localStorage.getItem("statistics"),t=JSON.parse(e).filter((e=>e.miss)).sort(((e,t)=>e.percent-t.percent)).slice(0,r.MAX_CARD_REPEAT);t.length?t.forEach((e=>{const t=o.getWordData(e.category,e.word),i=new a.CardWord(this.cardsField.container.element,t,e.category);this.cards.push(i)})):this.cardsField.element.remove()}}t.DifficultWords=s},997:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Statistics=void 0,i(348);const a=i(334),r=i(863);class o extends a.Component{constructor(e){var t;super(e,"main",["container","main"]),this.transformCellContent=e=>Number.isNaN(Number(e))?e:Number(e),this.controlSortTriangle=(e,t)=>{"asc"===e?(t.classList.add("sorted"),t.classList.remove("sorted-reverse")):(t.classList.add("sorted-reverse"),t.classList.remove("sorted"))},this.resetBtnClickHandler=()=>{localStorage.clear(),r.initLocalStorage(),this.clearTable(),this.addWords()},this.repeatBtnClickHandler=()=>{window.location.hash="#/difficult-words"},this.clearTable=()=>{this.tableBody.element.innerHTML=""},this.buttonsContainer=new a.Component(this.element,"div",["statistics__btn-container"]),this.repeatBtn=new a.Component(this.buttonsContainer.element,"button",["statistics__btn","statistics__btn--repeat"],"Repeat difficult words"),this.resetBtn=new a.Component(this.buttonsContainer.element,"button",["statistics__btn","statistics__btn--reset"],"Reset"),this.container=new a.Component(this.element,"div",["statistics__table-container"]),this.table=new a.Component(this.container.element,"table",["statistics__table"]),this.tableHead=new a.Component(this.table.element,"thead"),this.categoryTh=new a.Component(this.tableHead.element,"th",[],"Category"),this.wordTh=new a.Component(this.tableHead.element,"th",[],"Word"),this.translationTh=new a.Component(this.tableHead.element,"th",[],"Translation"),this.tableBody=new a.Component(this.table.element,"tbody"),this.clickTh=new a.Component(this.tableHead.element,"th",[],"Clicks"),this.hitTh=new a.Component(this.tableHead.element,"th",[],"Hits"),this.missTh=new a.Component(this.tableHead.element,"th",[],"Misses"),this.percentTh=new a.Component(this.tableHead.element,"th",[],"%"),this.tableHeaders=[...null===(t=this.table.element.tHead)||void 0===t?void 0:t.children],this.repeatBtn.element.addEventListener("click",this.repeatBtnClickHandler),this.resetBtn.element.addEventListener("click",this.resetBtnClickHandler),this.tableHeaders.forEach(((e,t)=>e.addEventListener("click",(()=>this.sortRows(t,e))))),this.sortDirections=this.tableHeaders.map((()=>"")),this.addWords()}addWords(){const e=localStorage.getItem("statistics");e&&JSON.parse(e).forEach((e=>{const t=new a.Component(this.tableBody.element,"tr");new a.Component(t.element,"td",[],e.category),new a.Component(t.element,"td",[],e.word),new a.Component(t.element,"td",[],e.translation),new a.Component(t.element,"td",[],`${e.click}`),new a.Component(t.element,"td",[],`${e.hit}`),new a.Component(t.element,"td",[],`${e.miss}`),new a.Component(t.element,"td",[],`${e.percent}`)}))}sortRows(e,t){const i=[...this.table.element.rows],a=this.sortDirections[e]||"asc",r="asc"===a?1:-1;this.controlSortTriangle(a,t),i.sort(((t,i)=>{const a=t.cells[e].textContent,o=i.cells[e].textContent,n=this.transformCellContent(a),s=this.transformCellContent(o);return n>s?1*r:n<s?-1*r:0})),this.sortDirections[e]="asc"===a?"desc":"asc",this.table.element.tBodies[0].append(...i)}}t.Statistics=o},458:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Router=void 0,t.Router=class{constructor(e,t,i){this.rootElement=e,this.routes=t,this.headerNavCallback=i,this.render(),this.hashChangeHandler()}render(){this.parseLocation();const{Page:e}=this.findPage(),t=new e(this.rootElement,this.headerNavCallback);this.rootElement.replaceWith(t.element),this.rootElement=t.element}parseLocation(){this.location=window.location.hash.slice(2)}findPage(){return this.routes.find((e=>e.path===this.location))}hashChangeHandler(){window.addEventListener("hashchange",(()=>this.render()))}}},374:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.routes=void 0;const a=i(789),r=i(253),o=i(17),n=i(412),s=i(997),d=i(409);t.routes=[{name:"Main Page",path:"",Page:r.MainPage,menu:!0},...n.getCategoryNames().map((e=>({name:e,path:a.getKebabCaseString(e),Page:o.Category,menu:!0}))),{name:"Statistics",path:"statistics",Page:s.Statistics,menu:!0},{name:"Repeat",path:"difficult-words",Page:d.DifficultWords,menu:!1}]},412:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getWordData=t.getWordsData=t.getCategoryImage=t.getCategoryNames=void 0;const a=i(583);t.getCategoryNames=()=>a.cards.map((e=>e.category)),t.getCategoryImage=e=>a.cards.filter((t=>t.category===e)).map((e=>e.image)).join(""),t.getWordsData=e=>{var t;return null===(t=a.cards.find((t=>t.category===e)))||void 0===t?void 0:t.words},t.getWordData=(e,t)=>{var i;return null===(i=a.cards.find((t=>t.category===e)))||void 0===i?void 0:i.words.find((e=>e.word===t))}},745:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.updateCategory=t.UPDATE_PAGE=void 0,t.UPDATE_PAGE="UPDATE_PAGE",t.updateCategory=e=>({type:t.UPDATE_PAGE,text:e})},548:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.pageReducer=t.initialState=void 0;const a=i(745);t.initialState={category:"Main Page"},t.pageReducer=(e=t.initialState,i)=>{switch(i.type){case a.UPDATE_PAGE:return Object.assign(Object.assign({},e),{category:i.text});default:return e}}},218:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setPlayMode=t.CHANGE_PLAY_MODE=void 0,t.CHANGE_PLAY_MODE="CHANGE_PLAY_MODE",t.setPlayMode=()=>({type:t.CHANGE_PLAY_MODE})},223:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.modeReducer=t.initialState=void 0;const a=i(218);t.initialState={isPlayMode:!1},t.modeReducer=(e=t.initialState,i)=>{switch(i.type){case a.CHANGE_PLAY_MODE:return Object.assign(Object.assign({},e),{isPlayMode:!e.isPlayMode});default:return e}}},840:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.rootReducer=void 0;const a=i(676),r=i(548),o=i(223);t.rootReducer=a.combineReducers({page:r.pageReducer,mode:o.modeReducer})},54:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.store=void 0;const a=i(676),r=i(840);t.store=a.createStore(r.rootReducer)},353:(e,t,i)=>{e.exports=i.p+"assets/4c5818f5735ba26f71be.svg"},790:(e,t,i)=>{e.exports=i.p+"assets/ad178c0df28bc133be34.svg"}},t={};function i(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,i),o.exports}i.d=(e,t)=>{for(var a in t)i.o(t,a)&&!i.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");a.length&&(e=a[a.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{i(732);const e=i(752),t=document.body;window.onload=()=>{window.location.hash="#/",new e.App(t)}})()})();